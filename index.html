<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paws and Whiskers Pet Shop</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');
    body {
      margin: 0;
      font-family: 'Nunito', Arial, sans-serif;
      background: #f7f8fa;
      color: #2d3748;
      min-height: 100vh;
      overflow-x: hidden;
    }
    .navbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
      transition: all 0.3s ease;
    }
    .navbar.scrolled {
      padding: 0.8rem 2rem;
      box-shadow: 0 4px 30px rgba(0,0,0,0.12);
    }
    .navbar-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.5rem;
      font-weight: 700;
      color: #4f46e5;
      letter-spacing: 1px;
      transition: transform 0.3s ease;
    }
    .navbar-logo:hover {
      transform: scale(1.05);
    }
    .navbar-menu {
      display: flex;
      gap: 1rem;
      font-size: 1rem;
    }
    .navbar-menu a {
      color: #4f46e5;
      text-decoration: none;
      font-weight: 600;
      padding: 0.7rem 1.2rem;
      border-radius: 1rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    .navbar-menu a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(79,70,229,0.1), transparent);
      transition: left 0.4s;
    }
    .navbar-menu a:hover::before {
      left: 100%;
    }
    .navbar-menu a:hover {
      background: #e0e7ff;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(79,70,229,0.2);
    }
    .navbar-menu a.active {
      background: #4f46e5;
      color: white;
    }
    .navbar-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 2rem;
      color: #4f46e5;
      cursor: pointer;
    }
    @media (max-width: 800px) {
      .navbar-menu {
        display: none;
        flex-direction: column;
        gap: 1rem;
        position: absolute;
        top: 70px;
        right: 2rem;
        background: #fff;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        border-radius: 1rem;
        padding: 1rem 2rem;
        z-index: 101;
      }
      .navbar-menu.active {
        display: flex;
      }
      .navbar-toggle {
        display: block;
      }
    }
    .hero {
      position: relative;
      min-height: 400px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom-left-radius: 2rem;
      border-bottom-right-radius: 2rem;
      box-shadow: 0 4px 24px rgba(79,70,229,0.08);
      overflow: hidden;
    }
    .hero-video-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;
      filter: brightness(0.7) blur(1px);
      border-bottom-left-radius: 2rem;
      border-bottom-right-radius: 2rem;
    }
    .hero-overlay {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(79,70,229,0.18);
      border-bottom-left-radius: 2rem;
      border-bottom-right-radius: 2rem;
      z-index: 2;
    }
    .hero-content {
      position: relative;
      z-index: 3;
      text-align: center;
      color: #fff;
      padding: 2rem;
    }
    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: #fff;
      padding: 2rem;
    }
    .hero-content h1 {
      font-size: 2.7rem;
      font-weight: 800;
      margin-bottom: 1rem;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.12);
    }
    .hero-content p {
      font-size: 1.3rem;
      margin-bottom: 2rem;
      text-shadow: 0 2px 8px rgba(0,0,0,0.10);
    }
    .cta-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      border: none;
      border-radius: 2rem;
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    .cta-btn.primary {
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      color: #fff;
      box-shadow: 0 4px 20px rgba(79,70,229,0.3);
    }
    .cta-btn.secondary {
      background: rgba(255,255,255,0.2);
      color: #fff;
      border: 2px solid rgba(255,255,255,0.3);
      backdrop-filter: blur(10px);
    }
    .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(79,70,229,0.4);
    }
    .cta-btn.secondary:hover {
      background: rgba(255,255,255,0.3);
      border-color: rgba(255,255,255,0.5);
    }
    .cta-btn:focus {
      outline: 3px solid rgba(79,70,229,0.5);
      outline-offset: 2px;
    }
    .cta-btn:active {
      transform: translateY(0);
    }
    
    /* Enhanced Animations */
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% {
        transform: translate3d(0,0,0);
      }
      40%, 43% {
        transform: translate3d(0, -10px, 0);
      }
      70% {
        transform: translate3d(0, -5px, 0);
      }
      90% {
        transform: translate3d(0, -2px, 0);
      }
    }
    .animate-bounce {
      animation: bounce 2s infinite;
    }
    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 0 4px 20px rgba(79,70,229,0.3);
      }
      50% {
        box-shadow: 0 4px 30px rgba(79,70,229,0.5);
      }
    }
    
    /* Improved Focus States for Accessibility */
    *:focus {
      outline: 2px solid #4f46e5;
      outline-offset: 2px;
    }
    button:focus, a:focus, input:focus, select:focus {
      outline: 3px solid rgba(79,70,229,0.5);
      outline-offset: 2px;
    }
    .cta-btn:hover {
      background: #6366f1;
      transform: scale(1.05);
    }
    .products {
      max-width: 1200px;
      margin: 3rem auto;
      padding: 0 2rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2rem;
    }
    .product-card {
      background: #fff;
      border-radius: 1.5rem;
      box-shadow: 0 2px 12px rgba(79,70,229,0.07);
      padding: 2rem 1.5rem 1.5rem 1.5rem;
      text-align: center;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      overflow: hidden;
    }
    .product-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(79,70,229,0.1), transparent);
      transition: left 0.5s;
    }
    .product-card:hover::before {
      left: 100%;
    }
    .product-card:hover {
      box-shadow: 0 8px 32px rgba(79,70,229,0.15);
      transform: translateY(-8px);
    }
    .product-card:focus-within {
      outline: 3px solid rgba(79,70,229,0.5);
      outline-offset: 2px;
    }
    .product-card img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 1rem;
      margin-bottom: 1rem;
      background: #e0e7ff;
      transition: transform 0.3s ease;
    }
    .product-card:hover img {
      transform: scale(1.1);
    }
    .product-card h3 {
      font-size: 1.2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #4f46e5;
      transition: color 0.3s ease;
    }
    .product-card:hover h3 {
      color: #6366f1;
    }
    .product-card p {
      font-size: 1rem;
      margin-bottom: 1rem;
      color: #2d3748;
    }
    .product-price {
      font-size: 1.1rem;
      font-weight: 700;
      color: #16a34a;
      margin-bottom: 1rem;
    }
    .product-btn {
      background: #4f46e5;
      color: #fff;
      border: none;
      border-radius: 1.5rem;
      padding: 0.7rem 2rem;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
      transition: background 0.2s, transform 0.2s;
    }
    .product-btn:hover {
      background: #6366f1;
      transform: scale(1.05);
    }
    .tips-section {
      max-width: 900px;
      margin: 3rem auto;
      padding: 2rem;
      background: #fff;
      border-radius: 1.5rem;
      box-shadow: 0 2px 12px rgba(79,70,229,0.07);
      text-align: center;
    }
    .tips-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #4f46e5;
      margin-bottom: 1.5rem;
    }
    .tip {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      color: #2d3748;
      min-height: 2.5rem;
      transition: opacity 0.3s;
    }
    .tip-link {
      display: inline-block;
      font-size: 1rem;
      color: #4f46e5;
      background: #e0e7ff;
      padding: 0.5rem 1.2rem;
      border-radius: 1rem;
      text-decoration: none;
      font-weight: 700;
      margin-bottom: 1rem;
      transition: background 0.2s, color 0.2s;
    }
    .tip-link:hover {
      background: #6366f1;
      color: #fff;
    }
    .footer {
      background: #4f46e5;
      color: #fff;
      text-align: center;
      padding: 2rem 1rem 1rem 1rem;
      border-top-left-radius: 2rem;
      border-top-right-radius: 2rem;
      margin-top: 4rem;
    }
    .footer-links {
      margin-bottom: 1rem;
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }
    .footer-links a {
      color: #fff;
      text-decoration: none;
      font-weight: 700;
      transition: color 0.2s;
    }
    .footer-links a:hover {
      color: #e0e7ff;
    }
    .footer-contact {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }
    .footer-copy {
      font-size: 0.95rem;
      color: #e0e7ff;
    }
    
    /* Responsive horizontal layout for services */
    @media (min-width: 600px) {
      #services .products > div {
        min-width: 260px;
        max-width: 320px;
      }
      #services {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
      }
    }
    
    /* Splash Screen Styles */
    #splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #18181b;
      z-index: 99999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: opacity 0.7s;
    }
    #splash-logo {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      background: #e0e7ff;
      box-shadow: 0 0 40px #4f46e5a0;
      opacity: 0;
      transform: scale(0.7);
      animation: splashLogoIn 1.2s cubic-bezier(0.4,0,0.2,1) 0.2s forwards;
    }
    #splash-title {
      color: #fff;
      font-size: 2.2rem;
      font-weight: 800;
      letter-spacing: 2px;
      margin-top: 2rem;
      opacity: 0;
      animation: splashTextIn 1.2s cubic-bezier(0.4,0,0.2,1) 0.7s forwards;
      text-shadow: 0 2px 24px #4f46e5a0;
    }
    @keyframes splashLogoIn {
      0% { opacity:0; transform:scale(0.7); }
      60% { opacity:1; transform:scale(1.15); }
      80% { transform:scale(0.95); }
      100% { opacity:1; transform:scale(1); }
    }
    @keyframes splashTextIn {
      0% { opacity:0; transform:translateY(30px); }
      60% { opacity:1; transform:translateY(-8px); }
      100% { opacity:1; transform:translateY(0); }
    }
  </style>
</head>
<body>
  <!-- Splash Screen (single overlay, not duplicated) -->
<div id="splash-screen" style="position:fixed; top:0; left:0; width:100vw; height:100vh; background:linear-gradient(135deg,#4f46e5,#7c3aed); z-index:99999; display:flex; flex-direction:column; align-items:center; justify-content:center; transition:opacity 0.7s;">
  <img src="Logo.png" alt="Paws and Whiskers Logo" id="splash-logo" style="width:90px; height:90px; border-radius:50%; background:#e0e7ff; box-shadow:0 0 40px #4f46e5a0; opacity:0; transform:scale(0.7); animation:splashLogoIn 1.2s cubic-bezier(0.4,0,0.2,1) 0.2s forwards;" />
  <h1 id="splash-title" style="color:#fff; font-size:2.2rem; font-weight:800; letter-spacing:2px; margin-top:2rem; opacity:0; animation:splashTextIn 1.2s cubic-bezier(0.4,0,0.2,1) 0.7s forwards; text-shadow:0 2px 24px #4f46e5a0;">Welcome to Paws and Whiskers</h1>
  <div style="color:#e0e7ff; font-size:1.1rem; font-weight:600; text-align:center; max-width:320px; animation:splashTextIn 1.5s cubic-bezier(.4,0,.2,1);">AI-Powered Pet Shop & Care Platform</div>
</div>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-logo">
      <img src="Logo.png" alt="Paws and Whiskers Logo" style="border-radius:50%; background:#e0e7ff; width:40px; height:40px; object-fit:cover;" />
      Paws and Whiskers
    </div>
    <div style="position:relative;">
      <span id="cart-icon" style="font-size:2rem; color:#4f46e5; cursor:pointer; position:relative;">
        üõí<span id="cart-count" style="position:absolute; top:-10px; right:-15px; background:#16a34a; color:#fff; border-radius:50%; padding:2px 8px; font-size:0.9rem; font-weight:700; min-width:24px; text-align:center;">0</span>
      </span>
    </div>
    <button class="navbar-toggle" aria-label="Toggle menu" onclick="toggleMenu()">&#9776;</button>
    <div class="navbar-menu" id="navbar-menu">
      <a href="#home">Home</a>
      <a href="#shop">Shop</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#tips">Pet Care Tips</a>
      <a href="#contact">Contact</a>
      <a href="#" onclick="openProfileModal()" style="background:#e0e7ff; color:#4f46e5;">üêæ My Account</a>
      <a href="#" onclick="petShopAI.generateHealthReport(); switchProfileTab('health'); openPetProfileModal()" style="background:#10b981; color:#fff; margin-left:8px; border-radius:1rem; padding:0.7rem 1.2rem; font-weight:700;">üìä Generate Health Report</a>
      <a href="#" id="visual-search-nav-btn" style="background:#e0e7ff; color:#4f46e5;">üîç Visual Search</a>
    </div>
  </nav>

  <!-- Hero Banner -->
  <section class="hero" id="home">
    <video class="hero-video-bg" autoplay muted loop playsinline>
      <source src="yt1z.net - Puppy Love in 2 Minutes Cute Funny Puppies (1080p).mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="hero-badge animate-bounce" style="display:inline-block; background:rgba(255,255,255,0.2); backdrop-filter:blur(10px); padding:0.5rem 1rem; border-radius:2rem; margin-bottom:1rem; color:white; font-size:0.9rem; font-weight:600;">
        ü§ñ AI-Powered Pet Care Platform
      </div>
      <h1 style="animation: slideInUp 1s ease-out;">Happy Pets, Happy Homes</h1>
      <p id="hero-description" style="animation: slideInUp 1s ease-out 0.2s both;">Discover premium pet food, accessories, and expert care tips for your furry friends.</p>
      <div class="hero-cta-group" style="display:flex; gap:1rem; justify-content:center; margin-top:2rem; animation: slideInUp 1s ease-out 0.4s both;">
        <a href="#shop" class="cta-btn primary" role="button" tabindex="0" aria-label="Browse our pet products">
          üõçÔ∏è Shop Now
        </a>
        <button onclick="openPetProfileModal()" class="cta-btn secondary" role="button" tabindex="0" aria-label="Create your pet profile">
          üêæ Start Pet Profile
        </button>
      </div>
      <div class="hero-stats" style="display:flex; justify-content:center; gap:2rem; margin-top:2rem; animation: slideInUp 1s ease-out 0.6s both;">
        <div class="stat-item" style="text-align:center; color:white;">
          <div style="font-size:1.8rem; font-weight:700;">1000+</div>
          <div style="font-size:0.9rem; opacity:0.9;">Happy Pets</div>
        </div>
        <div class="stat-item" style="text-align:center; color:white;">
          <div style="font-size:1.8rem; font-weight:700;">24/7</div>
          <div style="font-size:0.9rem; opacity:0.9;">AI Support</div>
        </div>
        <div class="stat-item" style="text-align:center; color:white;">
          <div style="font-size:1.8rem; font-weight:700;">98%</div>
          <div style="font-size:0.9rem; opacity:0.9;">Satisfaction</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="products" id="services" style="margin-bottom:3rem;">
    <div style="max-width:1200px; margin:0 auto; padding:0 2rem;">
      <h2 style="color:#4f46e5; font-size:2rem; font-weight:800; margin-bottom:2rem; text-align:center;">Our Services</h2>
      <div style="display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:2rem;">
        <div style="background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); padding:2rem 1.5rem; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center;">
          <img src="Grooming.jpg" alt="Grooming" style="width:120px; height:120px; margin-bottom:1rem; border-radius:1rem; object-fit:cover; box-shadow:0 2px 8px rgba(79,70,229,0.10);" />
          <h3 style="color:#4f46e5; font-size:1.3rem; font-weight:700; margin-bottom:0.5rem;">Grooming</h3>
          <p style="font-size:1rem; color:#2d3748;">Professional grooming for dogs, cats, and small pets. Bath, haircut, nail trim, and more.</p>
        </div>
        <!-- Pet Clinic Service Card (with Appointment Booking) -->
        <div style="background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); padding:2rem 1.5rem; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center;">
          <img src="Clinic.webp" alt="Pet Clinic" style="width:120px; height:120px; margin-bottom:1rem; border-radius:1rem; object-fit:cover; box-shadow:0 2px 8px rgba(79,70,229,0.10);" />
          <h3 style="color:#4f46e5; font-size:1.3rem; font-weight:700; margin-bottom:0.5rem;">Pet Clinic</h3>
          <p style="font-size:1rem; color:#2d3748;">Experienced veterinarians for checkups, vaccinations, and health consultations.</p>
          <button onclick="openAppointmentModal()" style="background:#4f46e5; color:#fff; border:none; padding:0.7rem 2rem; border-radius:1rem; font-weight:700; margin-top:1rem;">Book Appointment</button>
        </div>
        <div style="background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); padding:2rem 1.5rem; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center;">
          <img src="Adoption.webp" alt="Adoption" style="width:120px; height:120px; margin-bottom:1rem; border-radius:1rem; object-fit:cover; box-shadow:0 2px 8px rgba(79,70,229,0.10);" />
          <h3 style="color:#4f46e5; font-size:1.3rem; font-weight:700; margin-bottom:0.5rem;">Adoption</h3>
          <p style="font-size:1rem; color:#2d3748;">Find your new best friend! We help connect loving families with pets in need of homes.</p>
        </div>
        <div style="background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); padding:2rem 1.5rem; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:center;">
          <img src="petevent.jpg" alt="Pet Events" style="width:120px; height:120px; margin-bottom:1rem; border-radius:1rem; object-fit:cover; box-shadow:0 2px 8px rgba(79,70,229,0.10);" />
          <h3 style="color:#4f46e5; font-size:1.3rem; font-weight:700; margin-bottom:0.5rem;">Pet Events</h3>
          <p style="font-size:1rem; color:#2d3748;">Join our fun pet events: training workshops, meetups, and more for pet lovers.</p>
        </div>
      </div>
    </div>
  </section>
  <!-- Product Section -->
  <section class="products" id="shop">
    <div class="product-card">
      <img src="product1.webp" alt="Natural Dog Food" />
      <h3>Natural Dog Food</h3>
      <p>Wholesome nutrition for all breeds. Grain-free, high protein.</p>
      <div class="product-price">‚Çπ799</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product2.webp" alt="Premium Cat Food" />
      <h3>Premium Cat Food</h3>
      <p>Delicious recipes for healthy coats and happy cats.</p>
      <div class="product-price">‚Çπ599</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product4.webp" alt="Organic Rabbit Food" />
      <h3>Organic Rabbit Food</h3>
      <p>Fresh, natural ingredients for energetic bunnies.</p>
      <div class="product-price">‚Çπ399</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product5.webp" alt="Cozy Pet Bed" />
      <h3>Cozy Pet Bed</h3>
      <p>Soft, durable, and machine-washable for ultimate comfort.</p>
      <div class="product-price">‚Çπ999</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product6.jpg" alt="Interactive Toy" />
      <h3>Interactive Toy</h3>
      <p>Keep your pets active and entertained for hours.</p>
      <div class="product-price">‚Çπ249</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product8.jpg" alt="Dog Chew Bone" />
      <h3>Dog Chew Bone</h3>
      <p>Long-lasting chew for strong teeth and healthy gums.</p>
      <div class="product-price">‚Çπ199</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product9.webp" alt="Cat Scratcher" />
      <h3>Cat Scratcher</h3>
      <p>Durable scratcher for playful and healthy cats.</p>
      <div class="product-price">‚Çπ349</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
    <div class="product-card">
      <img src="product3.jpg" alt="Bird Feeder" />
      <h3>Bird Feeder</h3>
      <p>Easy-to-use feeder for all types of pet birds.</p>
      <div class="product-price">‚Çπ299</div>
      <button class="product-btn" style="margin-top:1rem; width:100%;" onclick="addToCart()">Add to Cart</button>
    </div>
  </section>

  <!-- Pet Care Tips Section -->
  <section class="tips-section" id="tips">
    <div class="tips-title">Pet Care Tips</div>
    <div class="tip" id="tip-text">Feed your pet a balanced diet for optimal health.</div>
    <a class="tip-link" id="tip-link" href="https://www.youtube.com/results?search_query=pet+care+tips" target="_blank">Watch Pet Care Tips on YouTube</a>
  </section>

  <!-- About Section -->
  <section id="about" style="padding:3rem 2rem; background:#f7f8fa; margin:2rem 0;">
    <div style="max-width:1200px; margin:0 auto;">
      <h2 style="text-align:center; color:#4f46e5; margin-bottom:2rem; font-size:2.5rem;">About Paws and Whiskers</h2>
      
      <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:2rem; margin-bottom:3rem;">
        <div style="background:white; padding:2rem; border-radius:1rem; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          <h3 style="color:#4f46e5; margin-bottom:1rem;">üè™ Our Story</h3>
          <p style="color:#666; line-height:1.6;">
            Founded in 2020, Paws and Whiskers began as a family-owned pet store with a simple mission: to provide the best care and products for every pet. Today, we've evolved into an AI-powered pet care platform, combining traditional pet expertise with cutting-edge technology to serve thousands of happy pets and their families.
          </p>
        </div>
        
        <div style="background:white; padding:2rem; border-radius:1rem; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          <h3 style="color:#4f46e5; margin-bottom:1rem;">ü§ñ AI-Powered Innovation</h3>
          <p style="color:#666; line-height:1.6;">
            We're pioneers in AI-driven pet care, offering personalized recommendations, health risk prediction, visual product search, and intelligent pricing. Our advanced chatbot provides 24/7 assistance, while our machine learning algorithms ensure every pet gets exactly what they need.
          </p>
        </div>
        
        <div style="background:white; padding:2rem; border-radius:1rem; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
          <h3 style="color:#4f46e5; margin-bottom:1rem;">üè• Comprehensive Services</h3>
          <p style="color:#666; line-height:1.6;">
            Beyond products, we offer professional grooming, veterinary consultations, pet adoption services, and training workshops. Our certified groomers and experienced veterinarians ensure your pets receive the highest standard of care.
          </p>
        </div>
      </div>
      
      <div style="background:white; padding:2rem; border-radius:1rem; box-shadow:0 2px 8px rgba(0,0,0,0.1); margin-bottom:2rem;">
        <h3 style="color:#4f46e5; margin-bottom:1.5rem; text-align:center;">üéØ Our Mission & Values</h3>
        <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:1.5rem;">
          <div style="text-align:center;">
            <div style="font-size:2rem; margin-bottom:0.5rem;">‚ù§Ô∏è</div>
            <h4 style="color:#4f46e5; margin-bottom:0.5rem;">Pet-First Approach</h4>
            <p style="color:#666; font-size:0.9rem;">Every decision prioritizes pet health, happiness, and well-being above all else.</p>
          </div>
          <div style="text-align:center;">
            <div style="font-size:2rem; margin-bottom:0.5rem;">üî¨</div>
            <h4 style="color:#4f46e5; margin-bottom:0.5rem;">Scientific Excellence</h4>
            <p style="color:#666; font-size:0.9rem;">Evidence-based care recommendations powered by veterinary science and AI research.</p>
          </div>
          <div style="text-align:center;">
            <div style="font-size:2rem; margin-bottom:0.5rem;">üåü</div>
            <h4 style="color:#4f46e5; margin-bottom:0.5rem;">Personalized Experience</h4>
            <p style="color:#666; font-size:0.9rem;">AI-driven personalization ensures every pet gets customized care and product recommendations.</p>
          </div>
          <div style="text-align:center;">
            <div style="font-size:2rem; margin-bottom:0.5rem;">ü§ù</div>
            <h4 style="color:#4f46e5; margin-bottom:0.5rem;">Community Impact</h4>
            <p style="color:#666; font-size:0.9rem;">Supporting local animal shelters and promoting responsible pet ownership in our community.</p>
          </div>
        </div>
      </div>
      
      <div style="text-align:center; background:linear-gradient(135deg, #4f46e5, #7c3aed); color:white; padding:2rem; border-radius:1rem;">
        <h3 style="margin:0 0 1rem 0;">üöÄ Join the Future of Pet Care</h3>
        <p style="margin:0 0 1.5rem 0; opacity:0.9;">Experience the most advanced AI-powered pet care platform. From intelligent health predictions to personalized recommendations, we're revolutionizing how you care for your beloved pets.</p>
        <button onclick="openPetProfileModal()" style="background:white; color:#4f46e5; border:none; padding:1rem 2rem; border-radius:0.5rem; font-weight:700; cursor:pointer;">
          üêæ Start Your AI Pet Profile
        </button>
      </div>
    </div>
  </section>

  <!-- Pet Gallery Section -->
<section id="gallery" style="max-width:900px; margin:3rem auto; padding:2rem; background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); text-align:center;">
  <h2 style="color:#4f46e5; font-size:1.5rem; font-weight:700; margin-bottom:1rem;">Pet Gallery</h2>
  <input id="gallery-upload" type="file" accept="image/*" style="margin-bottom:1rem;">
  <button onclick="uploadGalleryImage()" style="background:#4f46e5; color:#fff; border:none; padding:0.7rem 2rem; border-radius:1rem; font-weight:700;">Upload</button>
  <div id="gallery-images" style="display:flex; gap:1rem; flex-wrap:wrap; margin-top:1rem;"></div>
</section>
<!-- Blog & Community Forum at the End -->
<section id="blog" style="max-width:900px; margin:3rem auto; padding:2rem; background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); text-align:center;">
  <h2 style="color:#4f46e5; font-size:1.5rem; font-weight:700; margin-bottom:1rem;">Pet Care Blog & Articles</h2>
  <div id="blog-list" style="text-align:left; font-size:1.1rem;"></div>
</section>
<section id="forum" style="max-width:900px; margin:3rem auto; padding:2rem; background:#fff; border-radius:1.5rem; box-shadow:0 2px 12px rgba(79,70,229,0.07); text-align:center;">
  <h2 style="color:#4f46e5; font-size:1.5rem; font-weight:700; margin-bottom:1rem;">Pet Community Forum</h2>
  <div id="forum-posts" style="max-height:200px; overflow-y:auto; margin-bottom:1rem; text-align:left;"></div>
  <textarea id="forum-input" placeholder="Share your story or ask a question..." style="width:100%; margin-bottom:1rem; padding:0.7rem; border-radius:0.5rem; border:1px solid #e0e7ff;"></textarea>
  <button onclick="postToForum()" style="width:100%; background:#4f46e5; color:#fff; border:none; padding:0.8rem; border-radius:0.5rem; font-weight:700;">Post</button>
</section>
<!-- Contact Section at the very bottom -->
<footer class="footer" id="contact">
  <div class="footer-links">
    <a href="#home">Home</a>
    <a href="#shop">Shop</a>
    <a href="#about">About</a>
    <a href="#tips">Pet Care Tips</a>
    <a href="#contact">Contact</a>
  </div>
  <div class="footer-contact">
    Email: info@pawsandwhiskers.com | Phone: (555) 123-4567
  </div>
  <div class="footer-copy">
    &copy; 2025 Paws and Whiskers. All rights reserved.
  </div>
  <div style="margin-top:2rem;">
    <select id="lang-select" style="padding:0.5rem 1rem; border-radius:1rem; border:1px solid #e0e7ff; font-weight:700;">
      <option value="en">English</option>
      <option value="hi">Hindi</option>
      <option value="es">Spanish</option>
      <option value="fr">French</option>
    </select>
  </div>
</footer>

  <!-- Pet Profile Modal -->
<div id="pet-profile-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;">
    <button onclick="closePetProfileModal()" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
    <h2 style="color:#4f46e5; margin-bottom:1rem;">Add Pet Profile</h2>
    <form id="pet-profile-form" onsubmit="savePetProfile(event)">
      <input type="text" id="petName" placeholder="Pet Name" required style="width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;">
      <input type="text" id="petType" placeholder="Pet Type (Dog, Cat, etc.)" required style="width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;">
      <input type="number" id="petAge" placeholder="Pet Age" required style="width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;">
      <input type="text" id="petBreed" placeholder="Pet Breed" required style="width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;">
      <button type="submit" style="background:#4f46e5; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%;">Save Profile</button>
    </form>
    <div id="pet-profile-success" style="display:none; color:#10b981; margin-top:1rem; text-align:center;">Profile saved! You can now generate a health report and get recommendations.</div>
  </div>
</div>

<!-- My Account/Profile Modal -->
<div id="profile-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5); z-index:9999; justify-content:center; align-items:center;">
  <div style="background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;">
    <button onclick="closeProfileModal()" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
    <h2 style="color:#4f46e5; margin-bottom:1rem;">My Pet Profile</h2>
    <div id="profile-content"></div>
    <button id="generate-health-btn" style="background:#10b981; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%; margin-top:1rem; display:none;" onclick="generateHealthReport()">Generate Health Report</button>
    <div id="health-report" style="margin-top:1rem;"></div>
  </div>
</div>

<!-- Chatbot Floating Button -->
<div id="chatbot-btn" style="position:fixed; bottom:32px; right:32px; z-index:99999;">
  <button onclick="openChatbotModal()" style="background:#4f46e5; color:#fff; border:none; border-radius:50%; width:64px; height:64px; font-size:2rem; box-shadow:0 4px 16px rgba(79,70,229,0.18); cursor:pointer;">üí¨</button>
</div>
<!-- Chatbot Modal -->
<div id="chatbot-modal" style="display:none; position:fixed; bottom:0; right:0; width:350px; max-width:90vw; height:480px; background:#fff; border-radius:1rem 1rem 0 0; box-shadow:0 2px 24px rgba(79,70,229,0.18); z-index:99999; flex-direction:column;">
  <div style="background:#4f46e5; color:#fff; padding:1rem; border-radius:1rem 1rem 0 0; font-weight:700; font-size:1.2rem; display:flex; justify-content:space-between; align-items:center;">
    <span>PetShop AI Chatbot</span>
    <button onclick="closeChatbotModal()" style="background:none; border:none; color:#fff; font-size:1.5rem; cursor:pointer;">&times;</button>
  </div>
  <div id="chatbot-messages" style="flex:1; padding:1rem; overflow-y:auto; font-size:1rem; background:#f7f8fa;"></div>
  <form id="chatbot-form" onsubmit="sendChatbotMessage(event)" style="display:flex; padding:1rem; gap:0.5rem; background:#fff; border-top:1px solid #e0e7ff;">
    <input id="chatbot-input" type="text" placeholder="Ask me anything about our services..." autocomplete="off" style="flex:1; padding:0.7rem; border-radius:0.5rem; border:1px solid #e0e7ff;">
    <button type="submit" style="background:#4f46e5; color:#fff; border:none; border-radius:0.5rem; padding:0.7rem 1.2rem; font-weight:700;">Send</button>
  </form>
</div>

<!-- --- Appointment Modal Logic --- -->
<script>
// Splash Screen Logic (single overlay only)
document.addEventListener('DOMContentLoaded', function() {
  setTimeout(function() {
    var splash = document.getElementById('splash-screen');
    if(splash) {
      splash.style.opacity = '0';
      setTimeout(function() {
        splash.style.display = 'none';
      }, 700);
    }
  }, 2500);
});

function toggleMenu() {
  var menu = document.getElementById('navbar-menu');
  menu.classList.toggle('active');
}

function openProfileModal() {
  document.getElementById('profile-modal').style.display = 'flex';
  var profile = localStorage.getItem('petProfile');
  var content = document.getElementById('profile-content');
  var healthBtn = document.getElementById('generate-health-btn');
  var healthReport = document.getElementById('health-report');
  healthReport.innerHTML = '';
  if (profile) {
    var pet = JSON.parse(profile);
    content.innerHTML = `<strong>Name:</strong> ${pet.name}<br><strong>Type:</strong> ${pet.type}<br><strong>Age:</strong> ${pet.age}<br><strong>Breed:</strong> ${pet.breed}`;
    healthBtn.style.display = 'block';
  } else {
    content.innerHTML = 'No pet profile found. Please add your pet profile.';
    healthBtn.style.display = 'none';
  }
}

function closeProfileModal() {
  document.getElementById('profile-modal').style.display = 'none';
}

function openPetProfileModal() {
  document.getElementById('pet-profile-modal').style.display = 'flex';
}

function closePetProfileModal() {
  document.getElementById('pet-profile-modal').style.display = 'none';
}

function savePetProfile(event) {
  event.preventDefault();
  // Get values
  var name = document.getElementById('petName').value;
  var type = document.getElementById('petType').value;
  var age = document.getElementById('petAge').value;
  var breed = document.getElementById('petBreed').value;
  // Save to localStorage (simple demo)
  var profile = { name, type, age, breed };
  localStorage.setItem('petProfile', JSON.stringify(profile));
  document.getElementById('pet-profile-success').style.display = 'block';
  setTimeout(function() {
    closePetProfileModal();
    openProfileModal(); // Auto-refresh profile modal after saving
  }, 1500);
}

function generateHealthReport() {
  var profile = localStorage.getItem('petProfile');
  var healthReport = document.getElementById('health-report');
  var recommendations = document.createElement('div');
  recommendations.style.marginTop = '1rem';
  if (profile) {
    var pet = JSON.parse(profile);
    // Improved health logic (demo)
    var risk = 'Low';
    var tips = '';
    if (pet.age > 10) { risk = 'Medium'; tips = 'Schedule a senior checkup.'; }
    if (pet.age > 15) { risk = 'High'; tips = 'Frequent vet visits recommended.'; }
    if (pet.type.toLowerCase() === 'dog') {
      recommendations.innerHTML = `<div style='color:#6366f1; font-weight:700;'>Recommended Products for Dogs:</div><ul style='text-align:left;'><li>Natural Dog Food</li><li>Cozy Pet Bed</li><li>Interactive Toy</li></ul>`;
    } else if (pet.type.toLowerCase() === 'cat') {
      recommendations.innerHTML = `<div style='color:#6366f1; font-weight:700;'>Recommended Products for Cats:</div><ul style='text-align:left;'><li>Premium Cat Food</li><li>Cat Scratcher</li></ul>`;
    } else if (pet.type.toLowerCase() === 'rabbit') {
      recommendations.innerHTML = `<div style='color:#6366f1; font-weight:700;'>Recommended Products for Rabbits:</div><ul style='text-align:left;'><li>Organic Rabbit Food</li></ul>`;
    } else {
      recommendations.innerHTML = `<div style='color:#6366f1; font-weight:700;'>Recommended Products:</div><ul style='text-align:left;'><li>Contact us for personalized recommendations!</li></ul>`;
    }
    healthReport.innerHTML = `<div style='color:#4f46e5; font-weight:700;'>Health Risk: ${risk}</div><div>${tips}</div><div>Recommended checkup for ${pet.type} (${pet.breed})</div>`;
    healthReport.appendChild(recommendations);
  }
}

// --- Chatbot State & Enhanced Logic ---
var chatbotState = {
  lastTopic: null,
  awaitingDetail: null,
  petProfile: null
};

// Load pet profile into chatbot memory
function updateChatbotPetProfile() {
  var profile = localStorage.getItem('petProfile');
  chatbotState.petProfile = profile ? JSON.parse(profile) : null;
}

function openChatbotModal() {
  document.getElementById('chatbot-modal').style.display = 'flex';
  updateChatbotPetProfile();
}

function closeChatbotModal() {
  document.getElementById('chatbot-modal').style.display = 'none';
}

function sendChatbotMessage(event) {
  event.preventDefault();
  var input = document.getElementById('chatbot-input');
  var messages = document.getElementById('chatbot-messages');
  var userMsg = input.value.trim();
  if (!userMsg) return;
  messages.innerHTML += `<div style='margin-bottom:0.5rem;'><strong>You:</strong> ${userMsg}</div>`;
  input.value = '';
  setTimeout(function() {
    var response = getChatbotResponse(userMsg);
    messages.innerHTML += `<div style='margin-bottom:1rem;'><strong>AI:</strong> ${response}</div>`;
    messages.scrollTop = messages.scrollHeight;
  }, 500);
}

// --- Enhanced Chatbot Logic: More Natural, Specific Responses ---
function getChatbotResponse(msg) {
  msg = msg.toLowerCase();
  updateChatbotPetProfile();
  // FAQ support
  if (msg.includes('open') && msg.includes('hour')) return 'We are open 9am to 9pm, 7 days a week!';
  if (msg.includes('payment')) return 'We accept cash, credit/debit cards, and UPI payments.';
  if (msg.includes('deliver') || msg.includes('shipping')) return 'We offer free delivery for orders above ‚Çπ999. Standard shipping rates apply otherwise.';
  if (msg.includes('location') || msg.includes('where')) return 'We are located at 123 Pet Lane, near City Park.';
  if (msg.includes('return') || msg.includes('refund')) return 'You can return products within 7 days for a full refund.';
  // Appointment booking
  if (msg.includes('appointment') || msg.includes('book') || msg.includes('schedule')) {
    if (chatbotState.lastTopic === 'grooming') {
      return 'To book a grooming appointment, please call us at (555) 123-4567 or use the "Book Appointment" button on our website.';
    }
    if (chatbotState.lastTopic === 'clinic' || msg.includes('vet')) {
      return 'To book a clinic appointment, use the "Book Appointment" button or call us at (555) 123-4567. Would you like to know available slots?';
    }
    return 'What service would you like to book? Grooming, clinic, or something else?';
  }
  // Adoption details
  if ((msg.includes('adopt') || msg.includes('adoption')) && (msg.includes('pet') || msg.includes('available') || msg.includes('list'))) {
    chatbotState.lastTopic = 'adoption';
    return 'Currently available pets for adoption: \n- Dogs: Bruno (Labrador, 2 yrs), Daisy (Beagle, 1 yr)\n- Cats: Simba (Persian, 3 yrs), Luna (Siamese, 2 yrs)\n- Rabbits: Snowy (White Rabbit, 1 yr)\nWould you like more details or start the adoption process?';
  }
  if (msg.includes('adopt') || msg.includes('adoption')) {
    chatbotState.lastTopic = 'adoption';
    return 'We help connect loving families with pets in need of homes. Ask about available pets or the adoption process!';
  }
  if ((msg.includes('pet') || msg.includes('available')) && chatbotState.lastTopic === 'adoption') {
    return 'Available pets for adoption: \n- Dogs: Bruno (Labrador, 2 yrs), Daisy (Beagle, 1 yr)\n- Cats: Simba (Persian, 3 yrs), Luna (Siamese, 2 yrs)\n- Rabbits: Snowy (White Rabbit, 1 yr)\nWould you like to know more about any pet?';
  }
  // Product details
  if (msg.includes('product') || msg.includes('food') || msg.includes('toy') || msg.includes('bed') || msg.includes('scratcher') || msg.includes('feeder') || msg.includes('bone')) {
    chatbotState.lastTopic = 'shop';
    if (msg.includes('dog')) return 'For dogs, we recommend: Natural Dog Food, Cozy Pet Bed, Interactive Toy, Dog Chew Bone.';
    if (msg.includes('cat')) return 'For cats, we recommend: Premium Cat Food, Cat Scratcher.';
    if (msg.includes('rabbit')) return 'For rabbits, we recommend: Organic Rabbit Food.';
    if (msg.includes('bird')) return 'For birds, we recommend: Bird Feeder.';
    return 'We offer premium pet food, accessories, toys, beds, and more. Ask about a specific product for details!';
  }
  if (msg.includes('price')) return 'Product prices are listed in our shop section. If you want the price of a specific item, just ask!';
  // Multi-turn/contextual follow-up
  if (chatbotState.awaitingDetail === 'petType') {
    chatbotState.awaitingDetail = null;
    chatbotState.lastTopic = 'recommend';
    return `Thanks! What is your pet's age?`;
  }
  if (chatbotState.awaitingDetail === 'petAge') {
    chatbotState.awaitingDetail = null;
    chatbotState.lastTopic = 'recommend';
    return `Great! Would you like product recommendations or health tips for your pet?`;
  }
  // Main topics
  if (msg.includes('groom') || msg.includes('grooming')) {
    chatbotState.lastTopic = 'grooming';
    return 'We offer professional grooming for dogs, cats, and small pets. Would you like to book an appointment or know about our packages?';
  }
  if (msg.includes('clinic') || msg.includes('vet') || msg.includes('health')) {
    chatbotState.lastTopic = 'clinic';
    return 'Our pet clinic provides checkups, vaccinations, and health consultations. Do you want to book a visit or ask about pet health?';
  }
  if (msg.includes('event')) {
    chatbotState.lastTopic = 'event';
    return 'We host pet events like training workshops, meetups, and more. Interested in upcoming events or want to register?';
  }
  if (msg.includes('shop')) {
    chatbotState.lastTopic = 'shop';
    return 'Browse our shop for premium pet food, accessories, toys, and more! Need help choosing a product?';
  }
  if (msg.includes('tips') || msg.includes('care')) {
    chatbotState.lastTopic = 'tips';
    return 'We provide expert pet care tips. Ask about diet, exercise, or training!';
  }
  if (msg.includes('profile')) {
    chatbotState.lastTopic = 'profile';
    if (chatbotState.petProfile) {
      var pet = chatbotState.petProfile;
      return `Your pet profile: ${pet.name}, ${pet.type}, age ${pet.age}, breed ${pet.breed}. Want a health report or recommendations?`;
    } else {
      return 'You can create and manage your pet profile for personalized recommendations and health reports.';
    }
  }
  if (msg.includes('recommend')) {
    chatbotState.lastTopic = 'recommend';
    if (chatbotState.petProfile) {
      var pet = chatbotState.petProfile;
      if (pet.type.toLowerCase() === 'dog') return 'Recommended for dogs: Natural Dog Food, Cozy Pet Bed, Interactive Toy.';
      if (pet.type.toLowerCase() === 'cat') return 'Recommended for cats: Premium Cat Food, Cat Scratcher.';
      if (pet.type.toLowerCase() === 'rabbit') return 'Recommended for rabbits: Organic Rabbit Food.';
      return 'Contact us for personalized recommendations!';
    } else {
      chatbotState.awaitingDetail = 'petType';
      return 'To recommend products, please tell me your pet type.';
    }
  }
  if (msg.includes('chatbot') || msg.includes('ai')) {
    chatbotState.lastTopic = 'ai';
    return 'I am your AI-powered assistant, here to help with all pet shop services and questions.';
  }
  if (msg.includes('contact')) {
    chatbotState.lastTopic = 'contact';
    return 'You can reach us at info@pawsandwhiskers.com or (555) 123-4567.';
  }
  if (msg.includes('service')) {
    chatbotState.lastTopic = 'service';
    return 'We offer grooming, clinic, adoption, events, and expert pet care tips.';
  }
  if (msg.includes('hello') || msg.includes('hi')) {
    chatbotState.lastTopic = 'greeting';
    var greet = chatbotState.petProfile ? `Hi ${chatbotState.petProfile.name}! How can I help you and your ${chatbotState.petProfile.type} today?` : 'Hello! How can I help you with your pet care needs today?';
    return greet;
  }
  if (msg.includes('thank')) {
    chatbotState.lastTopic = 'thanks';
    return 'You‚Äôre welcome! Let me know if you have more questions.';
  }
  // Contextual follow-up based on last topic
  if (chatbotState.lastTopic === 'grooming' && msg.includes('book')) return 'To book grooming, please call us or visit the shop. Would you like to know available slots?';
  if (chatbotState.lastTopic === 'clinic' && msg.includes('book')) return 'To book a clinic appointment, use the "Book Appointment" button or call us. Need help with pet health?';
  if (chatbotState.lastTopic === 'adoption' && msg.includes('see')) return 'Visit our adoption page or ask for available pets by type.';
  if (chatbotState.lastTopic === 'event' && msg.includes('register')) return 'You can register for events online or in-store. Want details on the next event?';
  if (chatbotState.lastTopic === 'shop' && msg.includes('help')) return 'Tell me your pet type and needs, and I‚Äôll suggest products.';
  // Fallback
  chatbotState.lastTopic = null;
  return 'I can help with pet care, products, grooming, clinic, adoption, events, FAQs, and more. Ask me anything!';
}

// --- Visual Search Logic ---
document.getElementById('visual-search-nav-btn').onclick = function() {
  openVisualSearchModal();
};
function openVisualSearchModal() {
  var modal = document.getElementById('visual-search-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'visual-search-modal';
    modal.style.display = 'flex';
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100vw';
    modal.style.height = '100vh';
    modal.style.background = 'rgba(0,0,0,0.5)';
    modal.style.zIndex = '99999';
    modal.style.justifyContent = 'center';
    modal.style.alignItems = 'center';
    modal.innerHTML = `
      <div style='background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;'>
        <button onclick='closeVisualSearchModal()' style='position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;'>&times;</button>
        <h2 style='color:#4f46e5; margin-bottom:1rem;'>Visual Product Search</h2>
        <input type='file' id='visual-search-upload' accept='image/*' style='margin-bottom:1rem;'>
        <button onclick='runVisualSearch()' style='background:#4f46e5; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%;'>Find Product</button>
        <div id='visual-search-result' style='margin-top:1rem;'></div>
      </div>
    `;
    document.body.appendChild(modal);
  } else {
    modal.style.display = 'flex';
  }
  document.getElementById('visual-search-result').innerHTML = '';
}
function closeVisualSearchModal() {
  var modal = document.getElementById('visual-search-modal');
  if (modal) modal.style.display = 'none';
}
function runVisualSearch() {
  var input = document.getElementById('visual-search-upload');
  var result = document.getElementById('visual-search-result');
  if (!input.files || !input.files[0]) {
    result.innerHTML = '<span style="color:#ef4444;">Please upload a product photo.</span>';
    return;
  }
  var file = input.files[0];
  // Match by filename to product images in folder
  var productImages = [
    { file: 'product1.webp', name: 'Natural Dog Food', desc: 'Wholesome nutrition for all breeds. Grain-free, high protein.', price: '‚Çπ799' },
    { file: 'product2.webp', name: 'Premium Cat Food', desc: 'Delicious recipes for healthy coats and happy cats.', price: '‚Çπ599' },
    { file: 'product4.webp', name: 'Organic Rabbit Food', desc: 'Fresh, natural ingredients for energetic bunnies.', price: '‚Çπ399' },
    { file: 'product5.webp', name: 'Cozy Pet Bed', desc: 'Soft, durable, and machine-washable for ultimate comfort.', price: '‚Çπ999' },
    { file: 'product6.jpg', name: 'Interactive Toy', desc: 'Keep your pets active and entertained for hours.', price: '‚Çπ249' },
    { file: 'product8.jpg', name: 'Dog Chew Bone', desc: 'Long-lasting chew for strong teeth and healthy gums.', price: '‚Çπ199' },
    { file: 'product9.webp', name: 'Cat Scratcher', desc: 'Durable scratcher for playful and healthy cats.', price: '‚Çπ349' },
    { file: 'product3.jpg', name: 'Bird Feeder', desc: 'Easy-to-use feeder for all types of pet birds.', price: '‚Çπ299' }
  ];
  var match = productImages.find(p => file.name.toLowerCase() === p.file.toLowerCase());
  if (match) {
    result.innerHTML = `<div style='color:#10b981; font-weight:700;'>Product Found:</div>
      <img src='${match.file}' alt='${match.name}' style='width:120px; height:120px; object-fit:cover; border-radius:1rem; margin-bottom:1rem;'><br>
      <strong>${match.name}</strong><br>${match.desc}<br><span style='color:#4f46e5; font-weight:700;'>${match.price}</span>`;
  } else {
    result.innerHTML = `<span style='color:#ef4444;'>No matching product found. Please upload a product image from our shop folder.</span>`;
  }
}
// --- Add to Cart & Checkout Modal Logic ---
var cart = [];
function addToCart() {
  // Get product info from button context (simple demo: just count)
  cart.push({});
  var cartCount = document.getElementById('cart-count');
  cartCount.textContent = cart.length;
  openCartModal();
}
function openCartModal() {
  // Check if modal already exists
  var modal = document.getElementById('cart-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'cart-modal';
    modal.style.display = 'flex';
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100vw';
    modal.style.height = '100vh';
    modal.style.background = 'rgba(0,0,0,0.5)';
    modal.style.zIndex = '99999';
    modal.style.justifyContent = 'center';
    modal.style.alignItems = 'center';
    modal.innerHTML = `
      <div style="background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;">
        <button onclick="closeCartModal()" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        <h2 style='color:#4f46e5; margin-bottom:1rem;'>Added to Cart!</h2>
        <div id='cart-items' style='margin-bottom:1rem;'></div>
        <button onclick='openCheckoutModal()' style='background:#10b981; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%;'>Proceed to Checkout</button>
      </div>
    `;
    document.body.appendChild(modal);
  } else {
    modal.style.display = 'flex';
  }
  // Show cart items (simple count)
  document.getElementById('cart-items').innerHTML = `You have ${cart.length} item(s) in your cart.`;
}
function closeCartModal() {
  var modal = document.getElementById('cart-modal');
  if (modal) modal.style.display = 'none';
}
function openCheckoutModal() {
  closeCartModal();
  var modal = document.getElementById('checkout-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'checkout-modal';
    modal.style.display = 'flex';
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100vw';
    modal.style.height = '100vh';
    modal.style.background = 'rgba(0,0,0,0.5)';
    modal.style.zIndex = '99999';
    modal.style.justifyContent = 'center';
    modal.style.alignItems = 'center';
    modal.innerHTML = `
      <div style="background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;">
        <button onclick="closeCheckoutModal()" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        <h2 style='color:#4f46e5; margin-bottom:1rem;'>Checkout</h2>
        <form id='checkout-form' onsubmit='submitCheckout(event)'>
          <input type='text' id='address' placeholder='Delivery Address' required style='width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;'>
          <input type='text' id='phone' placeholder='Phone Number' required style='width:100%; margin-bottom:1rem; padding:0.5rem; border-radius:0.5rem; border:1px solid #ccc;'>
          <button type='submit' style='background:#4f46e5; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%;'>Continue to Payment</button>
        </form>
        <div id='checkout-success' style='display:none; color:#10b981; margin-top:1rem; text-align:center;'>Address saved! Redirecting to payment...</div>
      </div>
    `;
    document.body.appendChild(modal);
  } else {
    modal.style.display = 'flex';
  }
}
function closeCheckoutModal() {
  var modal = document.getElementById('checkout-modal');
  if (modal) modal.style.display = 'none';
}
function submitCheckout(event) {
  event.preventDefault();
  document.getElementById('checkout-form').style.display = 'none';
  document.getElementById('checkout-success').style.display = 'block';
  setTimeout(function() {
    closeCheckoutModal();
    openPaymentModal();
  }, 1800);
}
function openPaymentModal() {
  var modal = document.getElementById('payment-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'payment-modal';
    modal.style.display = 'flex';
    modal.style.position = 'fixed';
    modal.style.top = '0';
    modal.style.left = '0';
    modal.style.width = '100vw';
    modal.style.height = '100vh';
    modal.style.background = 'rgba(0,0,0,0.5)';
    modal.style.zIndex = '99999';
    modal.style.justifyContent = 'center';
    modal.style.alignItems = 'center';
    modal.innerHTML = `
      <div style="background:#fff; padding:2rem; border-radius:1rem; max-width:400px; width:90%; box-shadow:0 2px 16px rgba(0,0,0,0.15); position:relative;">
        <button onclick="closePaymentModal()" style="position:absolute; top:1rem; right:1rem; background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        <h2 style='color:#4f46e5; margin-bottom:1rem;'>Payment</h2>
        <div style='margin-bottom:1rem;'>Select payment method:</div>
        <button onclick='finishOrder()' style='background:#10b981; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%; margin-bottom:0.5rem;'>Pay with UPI</button>
        <button onclick='finishOrder()' style='background:#6366f1; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%; margin-bottom:0.5rem;'>Pay with Card</button>
        <button onclick='finishOrder()' style='background:#4f46e5; color:#fff; padding:0.7rem 1.2rem; border:none; border-radius:0.5rem; font-weight:700; width:100%;'>Pay on Delivery</button>
        <div id='payment-success' style='display:none; color:#10b981; margin-top:1rem; text-align:center;'>Payment successful! Thank you for your order.</div>
      </div>
    `;
    document.body.appendChild(modal);
  } else {
    modal.style.display = 'flex';
  }
}
function closePaymentModal() {
  var modal = document.getElementById('payment-modal');
  if (modal) modal.style.display = 'none';
}
function finishOrder() {
  document.getElementById('payment-success').style.display = 'block';
  setTimeout(function() {
    closePaymentModal();
    cart = [];
    document.getElementById('cart-count').textContent = '0';
  }, 1800);
}
  </script>
</body>
</html>