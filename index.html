<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paws & Whiskers - Pet Store Engagement App</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #ff6b35;
      --primary-light: #ff8a65;
      --primary-dark: #e64a19;
      --secondary-color: #4ecdc4;
      --accent-color: #ffe082;
      --text-primary: #2d3748;
      --text-secondary: #4a5568;
      --bg-primary: #ffffff;
      --bg-secondary: #f7fafc;
      --bg-tertiary: #edf2f7;
      --border-color: #e2e8f0;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.15), 0 4px 10px rgba(0,0,0,0.1);
      --shadow-xl: 0 20px 40px rgba(0,0,0,0.15), 0 8px 20px rgba(0,0,0,0.1);
      --border-radius: 16px;
      --border-radius-lg: 24px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-fast: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      width: 100%;
      font-size: 16px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: var(--text-primary);
      font-family: 'Inter', 'Quicksand', Arial, sans-serif;
      overflow-x: hidden;
      line-height: 1.6;
    }

    body {
      min-height: 100vh;
      width: 100vw;
    }

    /* Enhanced Main Layout */
    .main-layout {
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: flex-start;
      width: 100vw;
      min-height: 100vh;
      gap: 3rem;
      padding: 0 0 3rem 0;
      position: relative;
    }

    .side-space {
      flex: 1 1 0;
      min-width: 60px;
      max-width: 150px;
      height: 100%;
      background: transparent;
    }

    .container {
      flex: 2 1 800px;
      max-width: 1000px;
      width: 100%;
      margin: 3rem 0 3rem 0;
      background: rgba(255,255,255,0.95);
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-xl);
      padding: 3rem 3rem 2.5rem 3rem;
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      animation: slideInUp 1s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
      border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
    }

    @media (max-width: 1200px) {
      .main-layout { 
        flex-direction: column; 
        gap: 0; 
        padding: 0 1rem 2rem 1rem;
      }
      .side-space { display: none; }
      .container { 
        margin: 1rem auto; 
        padding: 2rem 2rem 2rem 2rem;
      }
    }

    @media (max-width: 768px) {
      .container { 
        padding: 1.5rem; 
        margin: 0.5rem;
      }
      html, body { font-size: 14px; }
    }

    /* Enhanced Typography */
    h1, h2, h3, h4, h5 {
      color: var(--text-primary);
      font-weight: 700;
      letter-spacing: -0.025em;
      margin-bottom: 0.75rem;
      line-height: 1.2;
    }

    h1 { 
      font-size: 3rem; 
      text-align: center; 
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1.5rem;
    }

    h2 { 
      font-size: 1.75rem; 
      font-weight: 600;
      color: var(--text-primary);
    }

    /* Enhanced Pet Emoji */
    .pet-emoji {
      font-size: 3rem;
      display: block;
      text-align: center;
      margin-bottom: 1.5rem;
      animation: float 3s ease-in-out infinite;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }

    /* Enhanced Hero Carousel */
    .hero-carousel {
      width: 100vw;
      min-height: 500px;
      max-height: 650px;
      position: relative;
      margin: 0 0 3rem 0;
      overflow: hidden;
      border-radius: 0 0 40px 40px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: flex-end;
      justify-content: flex-start;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .hero-slide {
      position: absolute;
      top: 0; 
      left: 0;
      width: 100vw;
      height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }

    .hero-slide.active {
      opacity: 1;
      z-index: 2;
    }

    .hero-overlay {
      background: linear-gradient(135deg, rgba(45,55,72,0.95) 0%, rgba(45,55,72,0.7) 100%);
      color: #fff;
      padding: 3.5rem 4.5rem 3.5rem 3rem;
      border-radius: 0 0 40px 0;
      max-width: 750px;
      min-width: 350px;
      margin: 0 0 3rem 3rem;
      box-shadow: var(--shadow-lg);
      position: relative;
      font-size: 1.3rem;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 3rem;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .hero-service-img {
      width: 240px;
      height: 240px;
      object-fit: cover;
      border-radius: 28px;
      box-shadow: var(--shadow-lg);
      border: 8px solid rgba(255,255,255,0.9);
      background: rgba(255,255,255,0.9);
      flex-shrink: 0;
      margin-right: 3rem;
      transition: var(--transition);
      transform: scale(1);
    }

    .hero-service-img:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    .hero-title { 
      font-size: 2.8rem; 
      font-weight: 800; 
      margin-bottom: 1.2rem; 
      color: #fff;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .hero-desc { 
      font-size: 1.3rem; 
      line-height: 1.6; 
      color: rgba(255,255,255,0.9);
      font-weight: 400;
    }

    .hero-carousel-controls {
      position: absolute;
      bottom: 3rem;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      display: flex;
      gap: 1.5rem;
    }

    .hero-carousel-btn {
      background: rgba(255,255,255,0.95);
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 1.5rem;
      color: var(--primary-color);
      box-shadow: var(--shadow-md);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      outline: none;
      backdrop-filter: blur(10px);
    }

    .hero-carousel-btn:hover {
      background: var(--primary-color);
      color: #fff;
      transform: scale(1.1);
      box-shadow: var(--shadow-lg);
    }

    .hero-carousel-btn:active {
      transform: scale(0.95);
    }

    /* Enhanced Spin Wheel */
    #spinWheel {
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
      border-radius: 50%;
      box-shadow: var(--shadow-xl);
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 380px !important;
      height: 380px !important;
      max-width: 90vw;
      max-height: 90vw;
      border: 12px solid var(--primary-color);
      transition: var(--transition);
      position: relative;
    }

    #spinWheel::before {
      content: '';
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: linear-gradient(45deg, var(--primary-color), var(--secondary-color), var(--accent-color));
      border-radius: 50%;
      z-index: -1;
      animation: rotate 3s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    #spinBtn {
      width: 350px;
      max-width: 90vw;
      padding: 1.5rem 0;
      font-size: 1.8rem;
      border-radius: 20px;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      color: #fff;
      font-weight: 700;
      margin: 1.5rem auto 0 auto;
      display: block;
      box-shadow: var(--shadow-lg);
      border: none;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    #spinBtn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    #spinBtn:hover::before {
      left: 100%;
    }

    #spinBtn:hover {
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);
      transform: translateY(-3px);
      box-shadow: var(--shadow-xl);
    }

    /* Enhanced Form Elements */
    label {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
      display: block;
      font-size: 1.1rem;
      position: relative;
    }

    input, textarea {
      width: 100%;
      padding: 1.2rem;
      margin: 0.5rem 0 1.5rem 0;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 1.1rem;
      font-family: inherit;
      background: var(--bg-secondary);
      transition: var(--transition);
      position: relative;
    }

    input:focus, textarea:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 4px rgba(255,107,53,0.1);
      outline: none;
      background: #fff;
      transform: translateY(-2px);
    }

    button {
      width: 100%;
      padding: 1.2rem;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      color: #fff;
      border: none;
      border-radius: 12px;
      font-size: 1.3rem;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow-md);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }

    button:hover::before {
      left: 100%;
    }

    button:hover {
      background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary-color) 100%);
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    button:active {
      transform: translateY(-1px);
    }

    /* Enhanced Dark Mode Toggle */
    .dark-toggle {
      position: fixed;
      top: 30px;
      right: 30px;
      z-index: 1000;
      background: rgba(255,255,255,0.95);
      border-radius: 50px;
      box-shadow: var(--shadow-lg);
      padding: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: var(--transition);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .dark-toggle:hover {
      transform: scale(1.05);
      box-shadow: var(--shadow-xl);
    }

    .dark-toggle .toggle-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
      border: 3px solid #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4em;
      color: #fff;
      transition: var(--transition);
      cursor: pointer;
      box-shadow: var(--shadow-sm);
    }

    .dark-toggle .toggle-btn.active {
      background: linear-gradient(135deg, #2d3748, #4a5568);
      transform: rotate(180deg);
    }

    /* Enhanced Sections */
    .section {
      background: var(--bg-secondary);
      border-radius: var(--border-radius);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-sm);
      transition: var(--transition);
      border: 1px solid var(--border-color);
    }

    .section:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }

    /* Enhanced Pet of the Month */
    #petMonthSection {
      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
      border-radius: var(--border-radius-lg);
      padding: 2rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow-md);
      text-align: center;
      border: 2px solid #90caf9;
      position: relative;
      overflow: hidden;
    }

    #petMonthSection::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #2196f3, #42a5f5, #90caf9);
    }

    #petMonthImg {
      width: 140px;
      height: 140px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: var(--shadow-lg);
      margin-bottom: 1rem;
      border: 6px solid #fff;
      transition: var(--transition);
    }

    #petMonthImg:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
    }

    /* Enhanced Promotions */
    .promo-list {
      list-style: none;
      padding: 0;
    }

    .promo-list li {
      background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--primary-color);
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .promo-list li:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-md);
    }

    .promo-list li span {
      font-size: 2rem;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }

    /* Enhanced Loyalty Status */
    .loyalty {
      background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
      border-radius: var(--border-radius);
      padding: 2rem;
      margin-bottom: 2rem;
      text-align: center;
      box-shadow: var(--shadow-md);
      border: 2px solid #81c784;
      position: relative;
      overflow: hidden;
    }

    .loyalty::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #4caf50, #66bb6a, #81c784);
    }

    /* Enhanced Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0; 
      top: 0;
      width: 100vw; 
      height: 100vh;
      background: rgba(0,0,0,0.6);
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
      background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
      color: var(--text-primary);
      padding: 3rem;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow-xl);
      font-size: 1.4rem;
      text-align: center;
      max-width: 90vw;
      min-width: 300px;
      font-weight: 600;
      position: relative;
      border: 3px solid var(--primary-color);
      animation: slideInUp 0.4s ease-out;
    }

    .modal-content button {
      width: auto;
      margin-top: 1.5rem;
      padding: 1rem 2.5rem;
      font-size: 1.2rem;
      border-radius: 25px;
    }

    /* Enhanced Animations */
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* Enhanced Dark Mode */
    body.dark-mode {
      background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
      color: #e2e8f0;
    }

    .dark-mode .container {
      background: rgba(45,55,72,0.95);
      color: #e2e8f0;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .dark-mode h1, .dark-mode h2, .dark-mode h3, .dark-mode h4, .dark-mode h5 {
      color: #e2e8f0;
    }

    .dark-mode .section {
      background: rgba(45,55,72,0.8);
      border-color: rgba(255,255,255,0.1);
    }

    .dark-mode input, .dark-mode textarea {
      background: rgba(45,55,72,0.8);
      border-color: rgba(255,255,255,0.2);
      color: #e2e8f0;
    }

    .dark-mode input:focus, .dark-mode textarea:focus {
      background: rgba(45,55,72,0.9);
      border-color: var(--primary-color);
    }

    .dark-mode .welcome-back-msg {
      background: linear-gradient(135deg, rgba(76,175,80,0.2) 0%, rgba(76,175,80,0.1) 100%);
      border-color: #4caf50;
    }

    .dark-mode .badges-section {
      background: linear-gradient(135deg, rgba(255,193,7,0.2) 0%, rgba(255,193,7,0.1) 100%);
      border-color: var(--accent-color);
    }

    .dark-mode .pet-birthday-msg {
      background: linear-gradient(135deg, rgba(255,193,7,0.2) 0%, rgba(255,193,7,0.1) 100%);
      border-color: var(--accent-color);
    }

    .dark-mode .pet-fact-section {
      background: linear-gradient(135deg, rgba(255,193,7,0.2) 0%, rgba(255,193,7,0.1) 100%);
      border-color: var(--accent-color);
      color: #e2e8f0;
    }

    .dark-mode .survey-section {
      background: linear-gradient(135deg, rgba(33,150,243,0.2) 0%, rgba(33,150,243,0.1) 100%);
      border-color: #90caf9;
    }

    .dark-mode .radio-label {
      background: rgba(45,55,72,0.8);
      color: #e2e8f0;
    }

    .dark-mode .radio-label:hover {
      background: rgba(45,55,72,0.9);
    }

    .dark-mode .survey-message {
      background: rgba(76,175,80,0.2);
      border-color: #4caf50;
    }

    .dark-mode .feedback-success {
      background: linear-gradient(135deg, rgba(76,175,80,0.2) 0%, rgba(76,175,80,0.1) 100%);
      border-color: #4caf50;
    }

    .dark-mode .spin-wheel-section {
      background: linear-gradient(135deg, rgba(255,193,7,0.2) 0%, rgba(255,193,7,0.1) 100%);
      border-color: var(--accent-color);
    }

    .dark-mode .spin-result {
      background: rgba(45,55,72,0.8);
      color: var(--accent-color);
    }

    /* Enhanced Responsive Design */
    @media (max-width: 768px) {
      .hero-overlay {
        flex-direction: column;
        text-align: center;
        padding: 2rem;
        margin: 0 1rem 2rem 1rem;
        gap: 1.5rem;
      }

      .hero-service-img {
        width: 180px;
        height: 180px;
        margin-right: 0;
      }

      .hero-title {
        font-size: 2rem;
      }

      .hero-desc {
        font-size: 1.1rem;
      }

      h1 {
        font-size: 2.5rem;
      }

      .container {
        padding: 1.5rem;
      }

      .pet-fact-section {
        padding: 1rem;
        font-size: 1rem;
      }

      .survey-section {
        padding: 1.5rem;
      }

      .radio-label {
        padding: 0.6rem;
        margin-bottom: 0.6rem;
      }

      .spin-wheel-section {
        padding: 1.5rem;
      }

      #spinWheel {
        width: 300px !important;
        height: 300px !important;
      }

      #spinBtn {
        width: 280px;
        padding: 1.2rem 0;
        font-size: 1.5rem;
      }
    }

    /* Enhanced Micro-interactions */
    .section {
      position: relative;
    }

    .section::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .section:hover::after {
      transform: scaleX(1);
    }

    /* Enhanced Loading Animation */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }

    /* Enhanced Focus States */
    .hero-carousel-btn:focus-visible {
      outline: 3px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Enhanced Accessibility */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Enhanced Loading States */
    .loading {
      opacity: 0.7;
      pointer-events: none;
    }

    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid var(--primary-color);
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Enhanced Accessibility */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* Focus styles for better accessibility */
    button:focus-visible,
    input:focus-visible,
    textarea:focus-visible {
      outline: 3px solid var(--primary-color);
      outline-offset: 2px;
    }

    /* Enhanced Hover Effects */
    .hover-lift {
      transition: var(--transition);
    }

    .hover-lift:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }

    /* Enhanced Success Messages */
    .success-message {
      background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
      color: #2e7d32;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      border-left: 4px solid #4caf50;
      margin: 1rem 0;
      font-weight: 600;
      animation: slideInRight 0.3s ease-out;
    }

    /* Enhanced Section Titles */
    .section-title {
      text-align: center;
      color: var(--primary-color);
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 2rem;
      position: relative;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      border-radius: 2px;
    }

    /* Enhanced Pet of the Month Styles */
    .pet-month-title {
      color: #4a90e2;
      font-size: 1.4rem;
      margin-bottom: 1rem;
      font-weight: 700;
      text-align: center;
    }

    .pet-month-image {
      width: 140px;
      height: 140px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: var(--shadow-lg);
      margin-bottom: 1rem;
      border: 6px solid #fff;
      transition: var(--transition);
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    .pet-month-image:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-xl);
    }

    .pet-month-name {
      font-weight: 700;
      font-size: 1.2rem;
      text-align: center;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .pet-month-desc {
      font-size: 1rem;
      color: var(--text-secondary);
      text-align: center;
      line-height: 1.5;
    }

    /* Enhanced Spin Wheel Section */
    .spin-wheel-section {
      margin: 2rem 0;
      text-align: center;
      padding: 2rem;
      background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-md);
      border: 2px solid var(--accent-color);
    }

    .spin-wheel-title {
      color: var(--primary-color);
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .spin-result {
      margin-top: 1.5rem;
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--primary-color);
      padding: 1rem;
      background: rgba(255,255,255,0.8);
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
    }

    /* Enhanced Welcome Back Message */
    .welcome-back-msg {
      display: none;
      text-align: center;
      font-size: 1.3rem;
      margin-bottom: 1.5rem;
      color: var(--primary-color);
      font-weight: 600;
      padding: 1rem;
      background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
      border-radius: 12px;
      border-left: 4px solid #4caf50;
      animation: slideInRight 0.3s ease-out;
    }

    /* Enhanced Badges Section */
    .badges-section {
      text-align: center;
      margin-bottom: 1.5rem;
      padding: 1.5rem;
      background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-sm);
      border: 2px solid var(--accent-color);
    }

    /* Enhanced Pet Birthday Message */
    .pet-birthday-msg {
      text-align: center;
      color: var(--primary-color);
      font-weight: 700;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
      border-radius: 12px;
      box-shadow: var(--shadow-sm);
      border: 2px solid var(--accent-color);
      animation: pulse 2s infinite;
    }

    /* Enhanced Pet Fact Section */
    .pet-fact-section {
      background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 1.1rem;
      color: var(--text-primary);
      box-shadow: var(--shadow-sm);
      border: 2px solid var(--accent-color);
      position: relative;
      overflow: hidden;
    }

    .pet-fact-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    }

    .fact-label {
      font-weight: 700;
      color: var(--primary-color);
      display: block;
      margin-bottom: 0.5rem;
    }

    .new-fact-btn {
      margin-left: 1rem;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      width: auto;
      background: var(--primary-color);
      border-radius: 25px;
      transition: var(--transition);
    }

    .new-fact-btn:hover {
      transform: rotate(180deg);
      background: var(--primary-light);
    }

    /* Enhanced Survey Section */
    .survey-section {
      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
      border-radius: 12px;
      padding: 2rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--shadow-sm);
      border: 2px solid #90caf9;
      position: relative;
    }

    .survey-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #2196f3, #42a5f5, #90caf9);
    }

    .survey-title {
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-primary);
      font-size: 1.2rem;
      text-align: center;
    }

    .radio-label {
      display: flex;
      align-items: center;
      margin-bottom: 0.8rem;
      padding: 0.8rem;
      background: rgba(255,255,255,0.7);
      border-radius: 8px;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 500;
    }

    .radio-label:hover {
      background: rgba(255,255,255,0.9);
      transform: translateX(5px);
    }

    .radio-label input[type="radio"] {
      margin-right: 0.8rem;
      width: auto;
      margin-bottom: 0;
    }

    .survey-submit-btn {
      margin-top: 1rem;
      background: linear-gradient(135deg, #2196f3, #42a5f5);
      border-radius: 25px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
    }

    .survey-submit-btn:hover {
      background: linear-gradient(135deg, #42a5f5, #2196f3);
    }

    .survey-message {
      color: #388e3c;
      font-weight: 700;
      margin-top: 1rem;
      display: none;
      padding: 1rem;
      background: rgba(76, 175, 80, 0.1);
      border-radius: 8px;
      border-left: 4px solid #4caf50;
      animation: slideInRight 0.3s ease-out;
    }

    /* Enhanced Feedback Success */
    .feedback-success {
      background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
      color: #2e7d32;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      border-left: 4px solid #4caf50;
      margin: 1rem 0;
      font-weight: 600;
      animation: slideInRight 0.3s ease-out;
      display: none;
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>
</head>
<body>
  <div class="dark-toggle" id="darkModeToggle">
    <div class="toggle-btn" id="toggleDarkBtn" title="Toggle dark mode">🌙</div>
  </div>
  <div class="hero-carousel" id="heroCarousel">
    <!-- Grooming & Spa Slide: Use a relevant pet grooming image -->
    <div class="hero-slide active" style="background-image: linear-gradient(rgba(255,236,179,0.7),rgba(255,236,179,0.7)), url('https://images.pexels.com/photos/4588040/pexels-photo-4588040.jpeg?auto=compress&w=1200&h=600&fit=crop');">
      <div class="hero-overlay">
        <img src="https://images.pexels.com/photos/4588040/pexels-photo-4588040.jpeg?auto=compress&w=400&h=400&fit=crop" alt="Grooming & Spa" class="hero-service-img">
        <div>
          <div class="hero-title">Grooming & Spa</div>
          <div class="hero-desc">Pamper your pet with our luxurious grooming and spa services.</div>
        </div>
      </div>
    </div>
    <!-- Health Checkups Slide: Use a new, working pet/clinic image -->
    <div class="hero-slide" style="background-image: linear-gradient(rgba(197,225,165,0.7),rgba(197,225,165,0.7)), url('https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=1200&h=600&fit=crop');">
      <div class="hero-overlay">
        <img src="https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=400&h=400&fit=crop" alt="Health Checkups" class="hero-service-img">
        <div>
          <div class="hero-title">Health Checkups</div>
          <div class="hero-desc">Keep your pet healthy with regular checkups from our expert vets.</div>
        </div>
      </div>
    </div>
    <!-- Premium Pet Foods Slide -->
    <div class="hero-slide" style="background-image: linear-gradient(rgba(255,224,178,0.7),rgba(255,224,178,0.7)), url('https://images.pexels.com/photos/4587991/pexels-photo-4587991.jpeg?auto=compress&w=1200&h=600&fit=crop');">
      <div class="hero-overlay">
        <img src="https://images.pexels.com/photos/4587991/pexels-photo-4587991.jpeg?auto=compress&w=400&h=400&fit=crop" alt="Premium Pet Foods" class="hero-service-img">
        <div>
          <div class="hero-title">Premium Pet Foods</div>
          <div class="hero-desc">Discover nutritious and delicious food options for your furry friends.</div>
        </div>
      </div>
    </div>
    <!-- Fun Events Slide: Use a new, working pet event image -->
    <div class="hero-slide" style="background-image: linear-gradient(rgba(178,235,242,0.7),rgba(178,235,242,0.7)), url('https://images.pexels.com/photos/4588057/pexels-photo-4588057.jpeg?auto=compress&w=1200&h=600&fit=crop');">
      <div class="hero-overlay">
        <img src="https://images.pexels.com/photos/4588057/pexels-photo-4588057.jpeg?auto=compress&w=400&h=400&fit=crop" alt="Fun Events" class="hero-service-img">
        <div>
          <div class="hero-title">Fun Events</div>
          <div class="hero-desc">Join our exciting pet events and make new friends!</div>
        </div>
      </div>
    </div>
    <!-- Accessories & Toys Slide -->
    <div class="hero-slide" style="background-image: linear-gradient(rgba(255,205,210,0.7),rgba(255,205,210,0.7)), url('https://images.pexels.com/photos/4587973/pexels-photo-4587973.jpeg?auto=compress&w=1200&h=600&fit=crop');">
      <div class="hero-overlay">
        <img src="https://images.pexels.com/photos/4587973/pexels-photo-4587973.jpeg?auto=compress&w=400&h=400&fit=crop" alt="Accessories & Toys" class="hero-service-img">
        <div>
          <div class="hero-title">Accessories & Toys</div>
          <div class="hero-desc">Find the best toys and accessories to keep your pet happy.</div>
        </div>
      </div>
    </div>
    <div class="hero-carousel-controls">
      <button class="hero-carousel-btn" id="heroPrev">&#8592;</button>
      <button class="hero-carousel-btn" id="heroNext">&#8594;</button>
    </div>
  </div>
  <div class="main-layout">
    <div class="side-space"></div>
    <div class="container">
      <span class="pet-emoji">🐶🐱🐾</span>
      <h1 id="welcomeTitle">Welcome to Paws & Whiskers</h1>
              <div id="welcomeBackMsg" class="welcome-back-msg"></div>
      <!-- Pet of the Month -->
      <div id="petMonthSection" class="section">
        <h2 class="pet-month-title">🐾 Pet of the Month</h2>
        <img id="petMonthImg" src="" alt="Pet of the Month" class="pet-month-image">
        <div class="pet-month-name" id="petMonthName"></div>
        <div class="pet-month-desc" id="petMonthDesc"></div>
      </div>
      <!-- Registration -->
      <div id="registrationSection" class="section">
        <label for="name">Your Name</label>
        <input type="text" id="name" placeholder="Enter your name" required />
        <label for="email">Your Email</label>
        <input type="email" id="email" placeholder="Enter your email" required />
        <label for="petName">Your Pet's Name</label>
        <input type="text" id="petName" placeholder="Pet's name (optional)" />
        <label for="petBirthday">Pet's Birthday</label>
        <input type="date" id="petBirthday" />
        <button id="registerBtn">Register</button>
      </div>
      <!-- Promotions, Loyalty, Badges, Spin Wheel, Survey, Feedback -->
      <div id="promoSection" class="section" style="display:none;">
        <h2 class="section-title">Current Promotions</h2>
        <ul id="promoList" class="promo-list"></ul>
        <!-- Spin the Wheel (fixed) -->
        <div class="spin-wheel-section">
          <h2 class="spin-wheel-title">🎰 Spin-the-Wheel Discount</h2>
          <button id="spinBtn">Spin the Wheel</button>
          <!-- Fixed arrow between button and wheel -->
          <div id="spinArrow" aria-hidden="true"></div>
          <canvas id="spinWheel" width="320" height="320"></canvas>
          <div id="spinResult" class="spin-result"></div>
        </div>
        <!-- Loyalty, Mood, Badges -->
        <div class="loyalty" id="loyaltyStatus"></div>
        <div id="badgesSection" class="badges-section"></div>
        <!-- Pet Birthday Reminder -->
        <div id="petBirthdayMsg" class="pet-birthday-msg"></div>
        <!-- Fun Fact Generator -->
        <div id="petFactSection" class="pet-fact-section">
          <span class="fact-label">🐕 Did you know?</span> <span id="petFact"></span>
          <button id="newFactBtn" class="new-fact-btn">🔄</button>
        </div>
        <!-- Mini Survey -->
        <div id="surveySection" class="survey-section">
          <div class="survey-title">Mini Survey: What's your pet's favorite?</div>
          <form id="surveyForm">
            <label class="radio-label"><input type="radio" name="fav" value="Food" required> Food</label><br>
            <label class="radio-label"><input type="radio" name="fav" value="Toys"> Toys</label><br>
            <label class="radio-label"><input type="radio" name="fav" value="Grooming"> Grooming</label><br>
            <label class="radio-label"><input type="radio" name="fav" value="Walks"> Walks</label><br>
            <button type="submit" class="survey-submit-btn">Submit Survey</button>
          </form>
          <div id="surveyMsg" class="survey-message">You're a true pet lover! 🐾</div>
        </div>
        <!-- Feedback -->
        <h2 class="section-title">Feedback</h2>
        <textarea id="feedbackInput" placeholder="Share your feedback or pet story!"></textarea>
        <button id="submitFeedbackBtn">Submit Feedback</button>
        <div class="feedback-success" id="feedbackSuccess">Thank you for your feedback! 🐾</div>
      </div>
    </div>
    <div class="side-space"></div>
  </div>
  <!-- Modal for spin result -->
  <div class="modal" id="spinModal">
    <div class="modal-content" id="spinModalContent">
      <div id="spinModalText"></div>
      <button onclick="document.getElementById('spinModal').style.display='none'">Close</button>
    </div>
  </div>
  <!-- Animated Paw Prints (fixed) -->
  <canvas id="pawCanvas"></canvas>
  <script>
    const promotions = [
      { text: "10% off on all dog food!", emoji: "🐶" },
      { text: "Buy 1 Get 1 Free on Cat Toys", emoji: "🐱" },
      { text: "Free grooming session with every 5th visit!", emoji: "🛁" },
      { text: "New arrivals: Exotic Birds!", emoji: "🦜" }
    ];

    const registerBtn = document.getElementById('registerBtn');
    const promoSection = document.getElementById('promoSection');
    const registrationSection = document.getElementById('registrationSection');
    const promoList = document.getElementById('promoList');
    const loyaltyStatus = document.getElementById('loyaltyStatus');
    const feedbackInput = document.getElementById('feedbackInput');
    const submitFeedbackBtn = document.getElementById('submitFeedbackBtn');
    const feedbackSuccess = document.getElementById('feedbackSuccess');
    const spinBtn = document.getElementById('spinBtn');
    const spinResult = document.getElementById('spinResult');
    const petMonthSection = document.getElementById('petMonthSection');
    const petMonthImg = document.getElementById('petMonthImg');
    const petMonthName = document.getElementById('petMonthName');
    const petMonthDesc = document.getElementById('petMonthDesc');
    const newFactBtn = document.getElementById('newFactBtn');
    const petFact = document.getElementById('petFact');
    const surveyForm = document.getElementById('surveyForm');
    const surveyMsg = document.getElementById('surveyMsg');
    const toggleDark = document.getElementById('toggleDark');
    const welcomeBackMsg = document.getElementById('welcomeBackMsg');

    // Dark mode toggle
    const toggleDarkBtn = document.getElementById('toggleDarkBtn');
    function updateDarkToggleIcon() {
      if(document.body.classList.contains('dark-mode')) {
        toggleDarkBtn.textContent = '☀️';
        toggleDarkBtn.classList.add('active');
      } else {
        toggleDarkBtn.textContent = '🌙';
        toggleDarkBtn.classList.remove('active');
      }
    }
    toggleDarkBtn.onclick = () => {
      document.body.classList.toggle('dark-mode');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
      updateDarkToggleIcon();
    };
    // On load, set icon state
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }
    updateDarkToggleIcon();

    function loadPromotions() {
      promoList.innerHTML = '';
      promotions.forEach(promo => {
        const li = document.createElement('li');
        li.innerHTML = `<span>${promo.emoji}</span> ${promo.text}`;
        promoList.appendChild(li);
      });
    }

    function updateLoyalty() {
      let visits = parseInt(localStorage.getItem('visits') || '0');
      let nextReward = 5 - (visits % 5);
      loyaltyStatus.innerHTML = `🐾 You have visited us <b>${visits}</b> time(s).<br>Visit <b>${nextReward}</b> more time(s) to earn a free treat for your pet!`;
      loyaltyStatus.style.background = visits % 5 === 0 && visits !== 0 ? '#ffe0b2' : '#e1f7fa';
      loyaltyStatus.style.color = visits % 5 === 0 && visits !== 0 ? '#ff9800' : '#2d5a5c';
      if (visits % 5 === 0 && visits !== 0) {
        loyaltyStatus.innerHTML += '<br>🎉 Congratulations! You earned a free treat! 🎉';
      }
    }

    function showPetOfTheMonth() {
      const petOfTheMonth = JSON.parse(localStorage.getItem('petOfTheMonth'));
      if (petOfTheMonth) {
        petMonthImg.src = petOfTheMonth.img;
        petMonthName.innerText = petOfTheMonth.name;
        petMonthDesc.innerText = petOfTheMonth.desc;
        petMonthSection.style.display = 'block';
      }
    }

    registerBtn.onclick = () => {
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const petName = document.getElementById('petName').value.trim();
      const petBirthday = document.getElementById('petBirthday').value.trim();
      if (name && email) {
        localStorage.setItem('customerName', name);
        localStorage.setItem('customerEmail', email);
        if (petName) localStorage.setItem('petName', petName);
        if (petBirthday) localStorage.setItem('petBirthday', petBirthday);
        let visits = parseInt(localStorage.getItem('visits') || '0');
        if (!visits) localStorage.setItem('visits', '1');
        registrationSection.style.display = 'none';
        promoSection.style.display = 'block';
        loadPromotions();
        updateLoyalty();
        showPetOfTheMonth();
        welcomeBackMsg.style.display = 'block';
        welcomeBackMsg.innerText = `Welcome back, ${name}!`;
      } else {
        alert('Please enter both name and email.');
      }
    };

    submitFeedbackBtn.onclick = () => {
      const feedback = feedbackInput.value.trim();
      if (feedback) {
        let feedbacks = JSON.parse(localStorage.getItem('feedbacks') || '[]');
        feedbacks.push({ name: localStorage.getItem('customerName'), feedback, date: new Date().toISOString() });
        localStorage.setItem('feedbacks', JSON.stringify(feedbacks));
        feedbackInput.value = '';
        feedbackSuccess.style.display = 'block';
        setTimeout(() => { feedbackSuccess.style.display = 'none'; }, 2000);
      } else {
        alert('Please enter your feedback before submitting.');
      }
    };

    // Spin the Wheel functionality
    spinBtn.onclick = () => {
      const randomDegree = Math.floor(Math.random() * 360 + 720);
      const wheel = document.getElementById('spinWheel');
      wheel.style.transition = 'transform 4s cubic-bezier(0.33, 1, 0.68, 1)';
      wheel.style.transform = `rotate(${randomDegree}deg)`;
      const rewardIndex = Math.floor((randomDegree % 360) / (360 / promotions.length));
      setTimeout(() => {
        spinResult.innerText = `You won: ${promotions[rewardIndex].text}`;
        let visits = parseInt(localStorage.getItem('visits') || '0');
        localStorage.setItem('visits', (visits + 1).toString());
        updateLoyalty();
      }, 4000);
    };

    // Fun Fact Generator
    newFactBtn.onclick = () => {
      const facts = [
        "Dogs' sense of smell is about 40 times better than humans'.",
        "Cats can make over 100 different sounds.",
        "Goldfish can remember things for up to five months.",
        "Parrots are known to be great at mimicking human speech.",
        "Hamsters can run up to 8 miles on a wheel in one night!",
        "Rabbits' teeth never stop growing.",
        "Guinea pigs are social animals and enjoy the company of their kind.",
        "Chinchillas have the softest fur of any land mammal.",
        "Ferrets are known for their playful and curious nature.",
        "Turtles can breathe through their butts (cloacal respiration)."
      ];
      const randomFact = facts[Math.floor(Math.random() * facts.length)];
      petFact.innerText = randomFact;
    };

    // Mini Survey submission
    surveyForm.onsubmit = (e) => {
      e.preventDefault();
      const formData = new FormData(surveyForm);
      const favorite = formData.get('fav');
      localStorage.setItem('petFavorite', favorite);
      surveyMsg.style.display = 'block';
      setTimeout(() => { surveyMsg.style.display = 'none'; }, 2000);
    };

    // Simulate a visit every time the user loads the app after registration
    function incrementVisit() {
      if (localStorage.getItem('customerName')) {
        let visits = parseInt(localStorage.getItem('visits') || '0');
        localStorage.setItem('visits', (visits + 1).toString());
      }
    }

    // Auto-load if already registered
    if (localStorage.getItem('customerName')) {
      registrationSection.style.display = 'none';
      promoSection.style.display = 'block';
      incrementVisit();
      loadPromotions();
      updateLoyalty();
      showPetOfTheMonth();
      const registeredName = localStorage.getItem('customerName');
      welcomeBackMsg.style.display = 'block';
      welcomeBackMsg.innerText = `Welcome back, ${registeredName}!`;
    }

    // --- JS for all features ---
    // HERO CAROUSEL DATA & LOGIC
    // Use highly relevant, visually clear images for each service
    const heroSlides = [
      {
        bg: 'https://images.pexels.com/photos/4587997/pexels-photo-4587997.jpeg?auto=compress&w=1400&h=600&fit=crop',
        title: 'Grooming & Spa',
        desc: 'Pamper your pets with our professional grooming and spa treatments. Our experts ensure your furry friends look and feel their best.',
        img: 'https://images.pexels.com/photos/4587997/pexels-photo-4587997.jpeg?auto=compress&w=400&h=400&fit=crop'
      },
      {
        bg: 'https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=1400&h=600&fit=crop',
        title: 'Health Checkups',
        desc: 'Regular checkups and vaccination clinics by certified vets. Keep your pets healthy and happy with our caring team.',
        img: 'https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&w=400&h=400&fit=crop'
      },
      {
        bg: 'https://images.pexels.com/photos/4587991/pexels-photo-4587991.jpeg?auto=compress&w=1400&h=600&fit=crop',
        title: 'Premium Pet Foods',
        desc: 'Wide selection of nutritious foods and treats for all pets. Only the best for your companions!',
        img: 'https://images.pexels.com/photos/4587991/pexels-photo-4587991.jpeg?auto=compress&w=400&h=400&fit=crop'
      },
      {
        bg: 'https://images.pexels.com/photos/4588057/pexels-photo-4588057.jpeg?auto=compress&w=1400&h=600&fit=crop',
        title: 'Fun Events',
        desc: 'Pet birthday parties, training workshops, and adoption drives. Join our community and celebrate your pets!',
        img: 'https://images.pexels.com/photos/4588057/pexels-photo-4588057.jpeg?auto=compress&w=400&h=400&fit=crop'
      },
      {
        bg: 'https://images.pexels.com/photos/4588040/pexels-photo-4588040.jpeg?auto=compress&w=1400&h=600&fit=crop',
        title: 'Accessories & Toys',
        desc: 'Toys, beds, leashes, and more for every pet personality. Shop our curated collection!',
        img: 'https://images.pexels.com/photos/4588040/pexels-photo-4588040.jpeg?auto=compress&w=400&h=400&fit=crop'
      }
    ];
    const heroCarousel = document.getElementById('heroCarousel');
    let heroIdx = 0;
    function createHeroSlides() {
      heroSlides.forEach((slide, i) => {
        const div = document.createElement('div');
        div.className = 'hero-slide' + (i===0?' active':'');
        div.style.backgroundImage = `url('${slide.bg}')`;
        div.innerHTML = `<div class='hero-overlay'><img class='hero-service-img' src='${slide.img}' alt='${slide.title}' onerror="this.style.display='none'"/><div><div class='hero-title'>${slide.title}</div><div class='hero-desc'>${slide.desc}</div></div></div>`;
        heroCarousel.insertBefore(div, heroCarousel.querySelector('.hero-carousel-controls'));
      });
    }
    function showHero(idx) {
      const slides = heroCarousel.querySelectorAll('.hero-slide');
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === idx);
      });
    }
    if (!heroCarousel.querySelector('.hero-slide')) createHeroSlides();
    document.getElementById('heroPrev').onclick = function() {
      heroIdx = (heroIdx-1+heroSlides.length)%heroSlides.length;
      showHero(heroIdx);
    };
    document.getElementById('heroNext').onclick = function() {
      heroIdx = (heroIdx+1)%heroSlides.length;
      showHero(heroIdx);
    };
    setInterval(()=>{ heroIdx=(heroIdx+1)%heroSlides.length; showHero(heroIdx); }, 4000);
    showHero(heroIdx);

    // --- SPIN WHEEL FIXES ---
    // Define spinRewards
    const spinRewards = [
      { label: '10% Off Food', color: '#ffe082' },
      { label: 'Free Toy', color: '#b3e5fc' },
      { label: 'Grooming Discount', color: '#ffd180' },
      { label: 'Bonus Loyalty Point', color: '#c8e6c9' },
      { label: 'Mystery Gift', color: '#f8bbd0' },
      { label: '5% Off Next Visit', color: '#fff9c4' }
    ];
    // Draw wheel on load and after dark mode toggle
    function drawWheel(angle=0) {
      const canvas = document.getElementById('spinWheel');
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0,0,canvas.width,canvas.height);
      const n = spinRewards.length;
      const isDark = document.body.classList.contains('dark-mode');
      const radius = canvas.width/2-10;
      for(let i=0;i<n;i++){
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(canvas.width/2,canvas.height/2);
        ctx.arc(canvas.width/2,canvas.height/2,radius,2*Math.PI*i/n+angle,2*Math.PI*(i+1)/n+angle);
        ctx.closePath();
        ctx.fillStyle = spinRewards[i].color;
        ctx.fill();
        // Draw text in arc, centered
        ctx.translate(canvas.width/2,canvas.height/2);
        ctx.rotate(2*Math.PI*(i+0.5)/n+angle);
        ctx.textAlign='center';
        ctx.font='bold 16px Quicksand, Arial, sans-serif';
        ctx.fillStyle = isDark ? '#23272f' : '#3b2e2a';
        // Wrap text to fit inside segment
        let label = spinRewards[i].label;
        let maxWidth = radius-40;
        let words = label.split(' ');
        let lines = [];
        let line = '';
        for(let w=0;w<words.length;w++){
          let test = line + (line?' ':'') + words[w];
          if(ctx.measureText(test).width > maxWidth && line) {
            lines.push(line); line = words[w];
          } else {
            line = test;
          }
        }
        if(line) lines.push(line);
        let totalHeight = lines.length * 18;
        lines.forEach((line,li)=>{
          ctx.fillText(line, radius/1.7, (li-(lines.length-1)/2)*18);
        });
        ctx.restore();
      }
      // Draw segment borders
      for(let i=0;i<n;i++){
        ctx.save();
        ctx.beginPath();
        ctx.moveTo(canvas.width/2,canvas.height/2);
        ctx.arc(canvas.width/2,canvas.height/2,radius,2*Math.PI*i/n+angle,2*Math.PI*(i+1)/n+angle);
        ctx.closePath();
        ctx.lineWidth = 3;
        ctx.strokeStyle = isDark ? '#ffe082' : '#ffb347';
        ctx.stroke();
        ctx.restore();
      }
    }
    // Fallback for setDarkMode
    if (typeof setDarkMode !== 'function') {
      window.setDarkMode = function(on) {
        document.body.classList.toggle('dark-mode', on);
      };
    }
    // Redraw wheel on dark mode toggle
    const origSetDarkMode = setDarkMode;
    setDarkMode = function(on) {
      origSetDarkMode(on);
      drawWheel();
    };
    // Draw wheel on load
    drawWheel();
    // Spin logic using spinRewards
    let spinning = false;
    document.getElementById('spinBtn').onclick = function(){
      if(spinning) return;
      spinning=true;document.getElementById('spinResult').textContent='';
      let angle=0,speed=0.35+Math.random()*0.2,decay=0.985+Math.random()*0.005,steps=0;
      function animate(){
        angle+=speed;speed*=decay;steps++;
        drawWheel(angle);
        if(speed>0.01||steps<60){requestAnimationFrame(animate);}else{
          drawWheel(angle); // ensure final redraw
          let idx = Math.floor(((2*Math.PI-angle%(2*Math.PI))/(2*Math.PI))*spinRewards.length)%spinRewards.length;
          let reward = spinRewards[idx].label;
          localStorage.setItem('spinReward',reward);
          document.getElementById('spinResult').textContent = '';
          document.getElementById('spinModalText').textContent = 'You won: '+reward;
          document.getElementById('spinModal').style.display = 'flex';
          spinning=false;
        }
      }
      animate();
    };
    // Carousel logic
    const slides = document.querySelectorAll('.carousel-slide');
    let currentSlide = 0;
    function showSlide(idx) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('active', i === idx);
      });
    }
    document.getElementById('carouselPrev').onclick = function() {
      currentSlide = (currentSlide - 1 + slides.length) % slides.length;
      showSlide(currentSlide);
    };
    document.getElementById('carouselNext').onclick = function() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    };
    setInterval(() => {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }, 3500);
    // Touch swipe support
    let startX = null;
    document.getElementById('serviceCarousel').addEventListener('touchstart', e => {
      startX = e.touches[0].clientX;
    });
    document.getElementById('serviceCarousel').addEventListener('touchend', e => {
      if(startX === null) return;
      let dx = e.changedTouches[0].clientX - startX;
      if(Math.abs(dx) > 40) {
        if(dx > 0) document.getElementById('carouselPrev').click();
        else document.getElementById('carouselNext').click();
      }
      startX = null;
    });
    // --- PET OF THE MONTH RANDOM DOG ---
    function setRandomPetOfTheMonth() {
      const dogNames = [
        'Buddy', 'Bella', 'Charlie', 'Lucy', 'Max', 'Daisy', 'Bailey', 'Luna', 'Cooper', 'Sadie',
        'Rocky', 'Molly', 'Duke', 'Maggie', 'Bear', 'Sophie', 'Toby', 'Chloe', 'Jack', 'Rosie'
      ];
      const dogImages = [
        'https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587997/pexels-photo-4587997.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587991/pexels-photo-4587991.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/1108097/pexels-photo-1108097.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/1805164/pexels-photo-1805164.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4588040/pexels-photo-4588040.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587977/pexels-photo-4587977.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587975/pexels-photo-4587975.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587973/pexels-photo-4587973.jpeg?auto=compress&w=400&h=400&fit=crop',
        'https://images.pexels.com/photos/4587971/pexels-photo-4587971.jpeg?auto=compress&w=400&h=400&fit=crop'
      ];
      const idx = Math.floor(Math.random() * dogNames.length);
      const imgIdx = Math.floor(Math.random() * dogImages.length);
      const name = dogNames[idx];
      const img = dogImages[imgIdx];
      const descs = [
        `Say hello to ${name}, our playful and loving companion!`,
        `${name} brightens our days with endless tail wags.`,
        `Meet ${name}, always ready for a treat and a cuddle!`,
        `${name} is this month's star for being a loyal friend.`,
        `With a heart of gold, ${name} is everyone's favorite!`
      ];
      const desc = descs[Math.floor(Math.random()*descs.length)];
      const petOfTheMonth = { name, img, desc };
      localStorage.setItem('petOfTheMonth', JSON.stringify(petOfTheMonth));
      petMonthImg.src = img;
      petMonthName.innerText = name;
      petMonthDesc.innerText = desc;
      petMonthSection.style.display = 'block';
    }
    // On every load, set a new random pet of the month
    setRandomPetOfTheMonth();
    // --- SPIN LOGIC: ensure correct offer is shown ---
    function spinWheel() {
      if (isSpinning) return;
      isSpinning = true;
      spinBtn.disabled = true;
      let n = spinRewards.length;
      let randomIndex = Math.floor(Math.random() * n);
      let anglePerSegment = 2 * Math.PI / n;
      // The wheel's 0 angle is at 3 o'clock, so to align the selected segment to the top (12 o'clock),
      // rotate so that the selected index is at -Math.PI/2
      let finalAngle = (3 * Math.PI / 2) - (randomIndex * anglePerSegment) - (anglePerSegment / 2);
      let extraSpins = 5 * 2 * Math.PI; // 5 full spins for effect
      let totalAngle = extraSpins + finalAngle;
      let currentAngle = 0;
      let duration = 3500;
      let start = null;
      function animate(ts) {
        if (!start) start = ts;
        let elapsed = ts - start;
        let progress = Math.min(elapsed / duration, 1);
        // Ease out
        let ease = 1 - Math.pow(1 - progress, 3);
        let angle = ease * totalAngle;
        drawWheel(angle);
        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          drawWheel(totalAngle);
          // Show the correct reward
          let reward = spinRewards[randomIndex].label;
          spinResult.innerText = `You won: ${reward}!`;
          isSpinning = false;
          spinBtn.disabled = false;
        }
      }
      requestAnimationFrame(animate);
    }
    // --- FEEDBACK STORAGE & DISPLAY (mainstream + local) ---
    function loadGoodFeedbacks() {
      const list = document.getElementById('goodFeedbackList');
      list.innerHTML = '';
      const feedbacks = JSON.parse(localStorage.getItem('petshop_feedbacks') || '[]');
      feedbacks.filter(fb => Number(fb.rating) >= 4).forEach(fb => {
        const li = document.createElement('li');
        li.style.marginBottom = '1.2rem';
        li.style.background = '#e3f2fd';
        li.style.borderRadius = '12px';
        li.style.padding = '1rem';
        li.innerHTML = `<strong>${fb.name}</strong> <span style='color:#ffb347;'>&#9733;${fb.rating}</span><br>${fb.text}`;
        list.appendChild(li);
      });
    }
    document.getElementById('feedbackForm').onsubmit = function(e) {
      e.preventDefault();
      const name = document.getElementById('feedbackName').value.trim();
      const rating = document.getElementById('feedbackRating').value;
      const text = document.getElementById('feedbackText').value.trim();
      if (!name || !rating || !text) return;
      // Store in localStorage
      const feedbacks = JSON.parse(localStorage.getItem('petshop_feedbacks') || '[]');
      feedbacks.push({ name, rating, text, date: new Date().toISOString() });
      localStorage.setItem('petshop_feedbacks', JSON.stringify(feedbacks));
      // Optionally, send to mainstream server here (AJAX/fetch call)
      // Example:
      // fetch('/api/feedback', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ name, rating, text }) });
      document.getElementById('feedbackForm').reset();
      loadGoodFeedbacks();
    };
    window.addEventListener('DOMContentLoaded', loadGoodFeedbacks);
  </script>
</body>
</html>
